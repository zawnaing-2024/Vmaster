╔════════════════════════════════════════════════════════════════╗
║                                                                ║
║   VMaster CMS - Plan Expiration & Logo Feature                ║
║   Quick Deployment Guide (Docker)                              ║
║                                                                ║
╚════════════════════════════════════════════════════════════════╝

📦 WHAT'S NEW:
  ✅ VPN account expiration plans (1, 2, 3, 6, 12 months)
  ✅ Your logo integrated throughout the portal
  ✅ Visual expiration tracking with countdown
  ✅ Color-coded status badges

─────────────────────────────────────────────────────────────────

🚀 DEPLOYMENT (Choose One):

┌─────────────────────────────────────────────────────────────┐
│ OPTION 1: Automatic (Recommended)                          │
└─────────────────────────────────────────────────────────────┘

  cd /var/www/vmaster
  sudo bash scripts/deploy-plan-expiration.sh

  ⏱️  Takes: 2-3 minutes
  🔒 Safe: Auto-backup included
  ⚡ Downtime: ~10 seconds

┌─────────────────────────────────────────────────────────────┐
│ OPTION 2: Manual                                            │
└─────────────────────────────────────────────────────────────┘

  # 1. Backup
  docker exec vmaster_db mysqldump -uroot -proot_secure_password \
    vpn_cms_portal > backup_$(date +%Y%m%d).sql

  # 2. Migrate
  docker exec -i vmaster_db mysql -uroot -proot_secure_password \
    vpn_cms_portal < database/add_plan_duration.sql

  # 3. Logo
  mkdir -p assets/images
  cp vmaster_logo.jpg assets/images/logo.jpg

  # 4. Restart
  docker-compose restart web

─────────────────────────────────────────────────────────────────

✅ VERIFICATION:

  # Check database
  docker exec vmaster_db mysql -uroot -proot_secure_password \
    vpn_cms_portal -e "SHOW COLUMNS FROM vpn_accounts LIKE 'plan_duration';"

  # Check logo
  ls -lh assets/images/logo.jpg

  # Test portal
  Open: http://your-server-ip:8000
  Login → VPN Accounts → Create (see Plan Duration dropdown)

─────────────────────────────────────────────────────────────────

📋 DEFAULT VALUES (press Enter to use):
  • MySQL User: root
  • MySQL Pass: root_secure_password
  • Database: vpn_cms_portal
  • Container: vmaster_db

─────────────────────────────────────────────────────────────────

📚 DOCUMENTATION:
  • Full Guide: PLAN_EXPIRATION_GUIDE.md
  • Docker Guide: DOCKER_DEPLOYMENT_PLAN_EXPIRATION.md
  • Summary: FEATURE_UPDATE_SUMMARY.md

─────────────────────────────────────────────────────────────────

🎯 WHAT CUSTOMERS WILL SEE:

  When creating VPN account:
  ┌─────────────────────────────────────┐
  │ Plan Duration:                      │
  │ ┌─────────────────────────────────┐ │
  │ │ ▼ 2 Months Plan                 │ │
  │ └─────────────────────────────────┘ │
  │                                     │
  │ 📅 Expiration Date: Dec 09, 2025   │
  └─────────────────────────────────────┘

  In VPN accounts list:
  ┌──────────────────────────────────────────────────────┐
  │ Plan      │ Expires            │ Status              │
  ├───────────┼────────────────────┼─────────────────────┤
  │ 2 months  │ Dec 09, 2025      │ 🟢 Active           │
  │           │ (60 days left)     │                     │
  │ Unlimited │ Never              │ 🟢 Active           │
  │ 1 month   │ Nov 09, 2025      │ 🟡 Expiring Soon    │
  │           │ (5 days left)      │                     │
  │ 6 months  │ Sep 01, 2025      │ 🔴 Expired          │
  └──────────────────────────────────────────────────────┘

─────────────────────────────────────────────────────────────────

🔄 ROLLBACK (if needed):

  docker exec -i vmaster_db mysql -uroot -proot_secure_password \
    vpn_cms_portal < backup_YYYYMMDD.sql
  docker-compose restart web

─────────────────────────────────────────────────────────────────

⚠️  IMPORTANT NOTES:
  • Existing VPN accounts remain "Unlimited"
  • No data loss - safe migration
  • Expired accounts show visually (don't auto-disconnect)
  • Logo must be named: vmaster_logo.jpg

─────────────────────────────────────────────────────────────────

🎉 READY? Run this command:

  sudo bash scripts/deploy-plan-expiration.sh

─────────────────────────────────────────────────────────────────

